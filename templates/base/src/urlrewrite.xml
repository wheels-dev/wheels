<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE urlrewrite
    PUBLIC "-//tuckey.org//DTD UrlRewrite 4.0//EN"
    "http://www.tuckey.org/res/dtds/urlrewrite4.0.dtd">
<urlrewrite>
  <!-- Standard CFWheels URL rewriting that handles all routes including /wheels/* -->
  <rule enabled="true">
    <name>CFWheels pretty URLs</name>
    <condition type="request-uri" operator="notequal">^/(cf_script|flex2gateway|jrunscripts|CFIDE/administrator|lucee/admin|cfformgateway|cffileservlet|lucee|files|images|javascripts|miscellaneous|stylesheets|vendor/wheels|wheels/public/assets|robots.txt|favicon.ico|sitemap.xml|index.cfm)</condition>
    <from>^/(.*)$</from>
    <to type="passthrough">/index.cfm/$1</to>
  </rule>
  
  <!-- Convert dot to format parameter -->
  <rule enabled="true">
    <name>Convert dot to format parameter</name>
    <from>^/(.*)\.(\w+)$</from>
    <to>/$1?format=$2</to>
  </rule>
</urlrewrite>